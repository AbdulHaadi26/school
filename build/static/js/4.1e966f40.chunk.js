(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[4],{82:function(t,e,a){"use strict";a.d(e,"c",(function(){return y})),a.d(e,"a",(function(){return g})),a.d(e,"b",(function(){return S}));var n=a(20),r=a.n(n),o=a(28),s=a(2),u=a(29),c=a(17),l=s.a.SReq,i=s.a.SSuc,d=s.a.SErr,p=s.a.GEReq,m=s.a.GESuc,h=s.a.GEErr,y=function(t){return function(){var e=Object(o.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:l}),e.prev=1,e.next=4,u.a.post("/student/register",t);case 4:(n=e.sent).data.student&&!n.data.error?(a({type:i}),c.a.push("/students/list")):a({type:d,payload:n.data.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:d,payload:"Somthing unexpected occured"});case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},f={data:[],count:0},g=function(t){return function(){var e=Object(o.a)(r.a.mark((function e(a){var n,o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:p}),e.prev=1,n=u.a.post("/student/getStudCountAll",t,{headers:{authorization:"".concat(localStorage.getItem("token"))}}),o=u.a.post("/student/getStudAll",t,{headers:{authorization:"".concat(localStorage.getItem("token"))}}),e.next=6,n;case 6:return s=e.sent,e.next=9,o;case 9:!(c=e.sent).data.studList||null==s.data.studCount||s.data.error||c.data.error?a({type:h,payload:f}):(f.data=c.data.studList,f.count=s.data.studCount,a({type:m,payload:f})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a({type:h,studList:f});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(o.a)(r.a.mark((function e(a){var n,o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:p}),e.prev=1,n=u.a.post("/student/searchStudCount",t,{headers:{authorization:"".concat(localStorage.getItem("token"))}}),o=u.a.post("/student/searchStud",t,{headers:{authorization:"".concat(localStorage.getItem("token"))}}),e.next=6,n;case 6:return s=e.sent,e.next=9,o;case 9:c=e.sent,console.log(s,c),!c.data.studList||null==s.data.studCount||s.data.error||c.data.error?a({type:h,payload:f}):(f.data=c.data.studList,f.count=s.data.studCount,a({type:m,payload:f})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a({type:h,payload:f});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}},85:function(t,e,a){"use strict";a.r(e);var n=a(26),r=a(5),o=a(6),s=a(25),u=a(7),c=a(8),l=a(0),i=a.n(l),d=a(16),p=a(82),m={padding:"24px 24px 24px 24px",outline:"none !important",fontFamily:"''Montserrat', sans-serif",boxShadow:"none !important",fontSize:"16px",marginTop:"12px"},h={borderRadius:"20px",marginTop:"30px"},y=function(t){Object(c.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={name:"",roll:"",sClass:0,sSec:"A"},n.handleInput=n.handleInput.bind(Object(s.a)(n)),n}return Object(o.a)(a,[{key:"handleInput",value:function(t){this.setState(Object(n.a)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault();var e=this.state,a=e.name,n=e.roll,r=e.sClass,o=e.sSec,s=this.props.registerStudent;a&&n&&null!==r&&o&&s({name:a,roll:n,cls:r,section:o})}},{key:"renderLoader",value:function(){if(this.props.isLoading)return i.a.createElement("div",{className:"spinner-border",style:{width:"1rem",height:"1rem",marginLeft:"8px"},role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")," ")}},{key:"handleSelectA",value:function(t){var e=t.target.options.selectedIndex;t.target.options[e].getAttribute("data-key")&&this.setState({sSec:t.target.options[e].getAttribute("data-key")})}},{key:"handleSelect",value:function(t){var e=t.target.options.selectedIndex;t.target.options[e].getAttribute("data-key")&&this.setState({sClass:t.target.options[e].getAttribute("data-key")})}},{key:"renderClassSelect",value:function(){return[1,2,3,4,5].map((function(t){return i.a.createElement("option",{"data-key":t,key:t},"Class ",t)}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.name,n=e.roll,r=e.sClass,o=e.sSec,s=this.props,u=s.isError,c=s.err;return i.a.createElement("form",{className:"col-lg-5 col-11",onSubmit:function(e){return t.handleSubmit(e)}},i.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"12px"}},i.a.createElement("input",{type:"text",className:"form-control",style:m,name:"name",value:a,placeholder:"Student's name",onChange:this.handleInput,required:!0})),i.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"12px"}},i.a.createElement("input",{type:"text",className:"form-control",name:"roll",value:n,style:m,onChange:this.handleInput,placeholder:"Student's roll number",required:!0})),i.a.createElement("select",{className:"custom-select mb-3",style:{marginTop:"12px"},onChange:function(e){return t.handleSelect(e)},defaultValue:r},i.a.createElement("option",{"data-key":0},"KG"),this.renderClassSelect()),i.a.createElement("select",{className:"custom-select",style:{marginTop:"12px"},onChange:function(e){return t.handleSelectA(e)},defaultValue:o},i.a.createElement("option",{"data-key":"A"},"Section A"),i.a.createElement("option",{"data-key":"B"},"Section B")),i.a.createElement("button",{className:"btn btn-block btn-login",style:h,type:"submit"},"Add Student ",this.renderLoader()),u&&i.a.createElement("h6",{style:{width:"100%",textAlign:"center",marginTop:"16px",color:"red",fontSize:"13px !important",fontWeight:"500"}},c))}}]),a}(l.Component);e.default=Object(d.b)((function(t){return{isError:t.AddStudent.isError,err:t.AddStudent.data,isLoading:t.AddStudent.isLoading}}),{registerStudent:p.c})(y)}}]);