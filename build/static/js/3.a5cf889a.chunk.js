(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[3],{91:function(e,t,a){"use strict";a.r(t);var s=a(31),l=a(4),r=a(5),n=a(30),u=a(6),o=a(7),c=a(0),m=a.n(c),i=a(13),b=a.n(i),d=a(17),g=a(1),h=a(15),p=a(20),k=g.a.RReq,N=g.a.RErr,f=g.a.RSuc,y=a(19),x=a(11),T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={sSes:"",sId:"",sub1Name:"Social Studies",sub1Marks:0,sub1Total:100,sub2Name:"English",sub2Marks:0,sub2Total:100,sub3Name:"Urdu",sub3Marks:0,sub3Total:100,sub4Name:"Mathematics",sub4Marks:0,sub4Total:100,sub5Name:"General Knowledge",sub5Marks:0,sub5Total:100,sub6Name:"General Science",sub6Marks:0,sub6Total:100,sub7Name:"Islamiat",sub7Marks:0,sub7Total:100},s.handleInput=s.handleInput.bind(Object(n.a)(s)),s}return Object(r.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e,t){e.preventDefault();var a=this.props,s=a.student,l=a.registerResult,r=this.state,n=r.sSes,u=r.sId,o=r.sub1Name,c=r.sub2Name,m=r.sub3Name,i=r.sub4Name,b=r.sub5Name,d=r.sub6Name,g=r.sub7Name,h=r.sub1Marks,p=r.sub2Marks,k=r.sub3Marks,N=r.sub4Marks,f=r.sub5Marks,y=r.sub6Marks,x=r.sub7Marks,T=[{name:o,marks:h,total:r.sub1Total},{name:c,marks:p,total:r.sub2Total},{name:m,marks:k,total:r.sub3Total},{name:i,marks:N,total:r.sub4Total},{name:b,marks:f,total:r.sub5Total},{name:d,marks:y,total:r.sub6Total},{name:g,marks:x,total:r.sub7Total}];l({name:s.name,roll:s.roll,section:s.section,cls:s.cls,percentage:this.renderPercentage(),sessionId:u,sessionName:n,subjects:T,promoted:t})}},{key:"componentDidMount",value:function(){var e=this.props.session;e.length>0&&this.setState({sSes:e[0].name,sId:e[0]._id})}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSes:e.target.options[t].getAttribute("data-name"),sId:e.target.options[t].getAttribute("data-key")})}},{key:"renderList",value:function(){return this.props.session.map((function(e){return m.a.createElement("option",{key:e._id,"data-key":e._id,"data-name":e.name},e.name)}))}},{key:"handleDelete",value:function(e,t,a,s){var l=this.state,r=l.subjects,n=l.sumMarks,u=l.sumTotal,o=r;o=o.filter((function(e){return e._id!==t})),this.setState({subjects:o,sumMarks:n-a,sumTotal:u-s})}},{key:"renderPercentage",value:function(){var e=this.state,t=e.sub1Marks,a=e.sub2Marks,s=e.sub3Marks,l=e.sub4Marks,r=e.sub5Marks,n=e.sub6Marks,u=e.sub7Marks,o=e.sub1Total,c=e.sub2Total,m=e.sub3Total,i=e.sub4Total,b=e.sub5Total,d=e.sub6Total,g=e.sub7Total,h=0,p=0;return h=Number(h)+Number(t)+Number(a)+Number(s)+Number(l)+Number(r)+Number(n)+Number(u),p=Number(p)+Number(o)+Number(c)+Number(m)+Number(i)+Number(b)+Number(d)+Number(g),Number((100*h/p).toFixed(2))}},{key:"renderSubjects",value:function(e,t,a,s,l){return m.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-between"},m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-4 col-12"},m.a.createElement("h6",null,e)),m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},m.a.createElement("input",{type:"number",className:"form-control",name:s,value:t,onChange:this.handleInput,placeholder:"Marks"})),m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},m.a.createElement("input",{type:"number",className:"form-control",name:l,value:a,onChange:this.handleInput,placeholder:"Total"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.student,s=t.session,l=t.isLoading,r=t.isError,n=t.err,u=this.state,o=u.sub1Marks,c=u.sub1Name,i=u.sub1Total,b=u.sub2Marks,d=u.sub2Total,g=u.sub2Name,h=u.sub3Marks,p=u.sub3Name,k=u.sub3Total,N=u.sub4Marks,f=u.sub4Name,y=u.sub4Total,T=u.sub5Marks,M=u.sub5Total,v=u.sub5Name,E=u.sub6Marks,S=u.sub6Name,j=u.sub6Total,A=u.sub7Marks,w=u.sub7Name,R=u.sub7Total;return l?m.a.createElement(m.a.Fragment,null,m.a.createElement(x.a,null)):m.a.createElement("form",{className:"col-12 d-flex flex-column align-items-center"},m.a.createElement("h6",{className:"student-heading col-lg-8 col-11",style:{marginTop:"30px",marginBottom:"30px",textAlign:"center",fontSize:"40px"}},"Add Result"),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between"},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Name"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Roll No"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Class (Sec)")),m.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-row justify-content-between"},m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.name),m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.roll),m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},"Class ",a.cls," (",a.section,")")),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between",style:{marginTop:"30px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Subject"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Marks"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Total")),this.renderSubjects(c,o,i,"sub1Marks","sub1Total"),this.renderSubjects(g,b,d,"sub2Marks","sub2Total"),this.renderSubjects(p,h,k,"sub3Marks","sub3Total"),this.renderSubjects(f,N,y,"sub4Marks","sub4Total"),this.renderSubjects(v,T,M,"sub5Marks","sub5Total"),this.renderSubjects(S,E,j,"sub6Marks","sub6Total"),this.renderSubjects(w,A,R,"sub7Marks","sub7Total"),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"Percentage: ",this.renderPercentage(),"%")),m.a.createElement("select",{className:"custom-select col-lg-8 col-11",style:{marginTop:"30px"},onChange:function(t){return e.handleSelectA(t)},defaultValue:"A"},s.length>0&&this.renderList(),s.length<=0&&m.a.createElement("option",{key:0},"No session found")),m.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-lg-between"},m.a.createElement("button",{type:"button",className:"btn btn-block btn-danger col-lg-5 col-12",onClick:function(t){return e.handleSubmit(t,!1)},style:{marginTop:"30px",marginBottom:"30px"}},"Fail"),m.a.createElement("button",{type:"button",className:"btn btn-block btn-primary col-lg-5 col-12",onClick:function(t){return e.handleSubmit(t,!0)},style:{marginTop:"30px",marginBottom:"30px"}},"Promote")),r&&m.a.createElement("h6",{style:{width:"100%",textAlign:"center",marginBottom:"30px",marginTop:"16px",color:"red",fontSize:"13px !important",fontWeight:"500"}},n))}}]),a}(c.Component);t.default=Object(y.b)((function(e){return{isError:e.ResultReg.isError,isLoading:e.ResultReg.isLoading,err:e.ResultReg.data}}),{registerResult:function(e){return function(){var t=Object(d.a)(b.a.mark((function t(a){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:k}),t.prev=1,t.next=4,h.a.post("/result/register",e);case 4:(s=t.sent).data.Result&&!s.data.error?(a({type:f}),p.a.push("/options")):a({type:N,payload:s.data.error}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:N,payload:"Somthing unexpected occured"});case 11:case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})(T)}}]);