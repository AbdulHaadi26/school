(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[8],{103:function(e,t,a){"use strict";a.r(t);var n=a(33),s=a(6),l=a(7),c=a(32),r=a(8),i=a(9),o=a(0),m=a.n(o),u=a(12),h=a(18),d=a(34),g=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={sSes:"",sId:"",name:"",sClass:0,sSec:"A",string:"",limit:0,limitCheck:25},n.handleInput=n.handleInput.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.session,a=e.id,n=t.filter((function(e){return e._id===a}));this.setState({sSes:n[0].name,sId:n[0]._id})}},{key:"handleInput",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSec:e.target.options[t].getAttribute("data-key")})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.sClass,n=t.sSec,s=t.limit,l=t.string,c=t.sId,r=this.props.fetchParentSearch,i={sesId:c,string:l,opt1:a,opt2:n,limit:s};this.setState({limit:0}),l&&r(i)}},{key:"fetchNext",value:function(e,t){e.preventDefault();var a=this.props.fetchParentSearch,n=this.state,s=n.limit,l=n.string,c=n.sSec,r=n.sClass,i=n.limitCheck,o=n.sId;if(i<t){var m={limit:s+1,string:l,opt1:r,opt2:c,sesId:o},u=i+25;this.setState({sesId:o,limitCheck:u,limit:s+1}),l&&a(m)}}},{key:"fetchPrev",value:function(e,t){e.preventDefault();var a=this.props.fetchParentSearch,n=this.state,s=n.limit,l=n.string,c=n.sSec,r=n.sClass,i=n.limitCheck,o=n.sId;if(i>25){var m={sesId:o,limit:s-1,string:l,opt1:r,opt2:c},u=i-25;this.setState({limitCheck:u,limit:s-1}),l&&a(m)}}},{key:"handleSelect",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sClass:e.target.options[t].getAttribute("data-key")})}},{key:"renderClassSelect",value:function(){return[1,2,3,4,5].map((function(e){return m.a.createElement("option",{"data-key":e,key:e},"Class ",e)}))}},{key:"renderNav",value:function(e){var t=this;return e>25?m.a.createElement("div",{className:"col-11 d-flex flex-row justify-content-between",style:{marginTop:"30px",marginBottom:"30px"}},m.a.createElement("button",{className:"btn btn-secondary",onClick:function(a){return t.fetchPrev(a,e)}},m.a.createElement("span",{className:"fa fa-chevron-left"})),m.a.createElement("button",{className:"btn btn-secondary",onClick:function(a){return t.fetchNext(a,e)}},m.a.createElement("span",{className:"fa fa-chevron-right"}))):m.a.createElement(m.a.Fragment,null)}},{key:"renderTotal",value:function(e){for(var t=0,a=0,n=0;n<e.length;n+=1)null!==e[n].marks&&(t+=e[n].marks),null!=e[n].total&&(a+=e[n].total);return"".concat(t,"/").concat(a)}},{key:"renderList",value:function(e){var t=this;return e.map((function(e){return m.a.createElement("div",{key:e._id,className:"col-11 list-div d-flex flex-row"},m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center"}},m.a.createElement(h.a,{to:"/result/".concat(e._id,"/update")},e.name)),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center"}},e.roll),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center"}},"Class ",0!==e.cls?e.cls:"KG","-",e.section),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center"}},t.renderTotal(e.subjects)),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center"}},e.percentage,"%"),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center"}},e.promoted?"Pass":"Fail"))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.sClass,n=t.sSec,s=t.string,l=t.sSes,c=this.props,r=c.isLoading,i=c.isSuccess,o=c.isError,u=c.list,h=[],d=0;return i&&(h=u.data,d=u.count),m.a.createElement("form",{className:"col-12 d-flex flex-column align-items-center",onSubmit:function(t){return e.handleSubmit(t)}},m.a.createElement("h6",{className:"student-heading col-lg-8 col-11",style:{marginTop:"30px",textAlign:"center",fontSize:"40px"}},"Result ",l),m.a.createElement("div",{className:"col-lg-6 col-11 d-flex justify-content-end"},m.a.createElement("div",{className:"input-group col-12",style:{marginTop:"30px",marginBottom:"30px"}},m.a.createElement("input",{type:"text",className:"form-control",placeholder:"Student's name",name:"string",value:s,onChange:function(t){e.handleInput(t)}}),m.a.createElement("div",{className:"input-group-append"},m.a.createElement("select",{className:"custom-select",onChange:function(t){return e.handleSelect(t)},defaultValue:0===a?"Class KG":"Class ".concat(a)},m.a.createElement("option",{"data-key":0},"Class KG"),this.renderClassSelect()),m.a.createElement("select",{className:"custom-select",onChange:function(t){return e.handleSelectA(t)},defaultValue:"Section ".concat(n)},m.a.createElement("option",{"data-key":"A"},"Section A"),m.a.createElement("option",{"data-key":"B"},"Section B")),m.a.createElement("button",{className:"btn btn-outline-secondary",type:"submit"},m.a.createElement("span",{className:"fa fa-search"}))))),m.a.createElement("div",{className:"col-11 list-div d-flex flex-row"},m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center",fontWeight:"bold"}},"Name"),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center",fontWeight:"bold"}},"Roll"),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center",fontWeight:"bold"}},"Class"),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center",fontWeight:"bold"}},"Marks"),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center",fontWeight:"bold"}},"Percentage"),m.a.createElement("h6",{className:"col-lg-2",style:{textAlign:"center",fontWeight:"bold"}},"Pass/Fail")),!o&&i&&h&&h.length>0&&this.renderList(h),!o&&i&&h&&h.length>0&&this.renderNav(d),(o||h.length<=0)&&!r&&m.a.createElement("h6",{className:"col-11",style:{textAlign:"center",marginTop:"120px"}},"No Student Found"),r&&m.a.createElement("div",{className:"spinner-border",style:{width:"5rem",height:"5rem",marginTop:"120px"},role:"status"},m.a.createElement("span",{className:"sr-only"},"Loading...")," "))}}]),a}(o.Component);t.default=Object(u.b)((function(e){return{list:e.ResultList.data,isSuccess:e.ResultList.isSuccess,isLoading:e.ResultList.isLoading,isError:e.ResultList.isError}}),{fetchParentSearch:d.b})(g)}}]);