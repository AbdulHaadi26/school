(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[3],{96:function(e,t,a){"use strict";a.r(t);var s=a(32),l=a(5),n=a(6),r=a(31),u=a(7),o=a(8),c=a(0),m=a.n(c),b=a(33),i=a(16),d=a(9),g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={sSes:"",sId:"",sub1Name:"Social Studies",sub1Marks:0,sub1Total:100,sub2Name:"English",sub2Marks:0,sub2Total:100,sub3Name:"Urdu",sub3Marks:0,sub3Total:100,sub4Name:"Mathematics",sub4Marks:0,sub4Total:100,sub5Name:"General Knowledge",sub5Marks:0,sub5Total:100,sub6Name:"General Science",sub6Marks:0,sub6Total:100,sub7Name:"Islamiat",sub7Marks:0,sub7Total:100},s.handleInput=s.handleInput.bind(Object(r.a)(s)),s}return Object(n.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e,t){e.preventDefault();var a=this.props,s=a.student,l=a.registerResult,n=this.state,r=n.sSes,u=n.sId,o=n.sub1Name,c=n.sub2Name,m=n.sub3Name,b=n.sub4Name,i=n.sub5Name,d=n.sub6Name,g=n.sub7Name,h=n.sub1Marks,N=n.sub2Marks,k=n.sub3Marks,p=n.sub4Marks,f=n.sub5Marks,T=n.sub6Marks,x=n.sub7Marks,y=[{name:o,marks:h,total:n.sub1Total},{name:c,marks:N,total:n.sub2Total},{name:m,marks:k,total:n.sub3Total},{name:b,marks:p,total:n.sub4Total},{name:i,marks:f,total:n.sub5Total},{name:d,marks:T,total:n.sub6Total},{name:g,marks:x,total:n.sub7Total}];l({name:s.name,roll:s.roll,section:s.section,cls:s.cls,percentage:this.renderPercentage(),sessionId:u,sessionName:r,subjects:y,promoted:t})}},{key:"componentDidMount",value:function(){var e=this.props.session;e.length>0&&this.setState({sSes:e[0].name,sId:e[0]._id})}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSes:e.target.options[t].getAttribute("data-name"),sId:e.target.options[t].getAttribute("data-key")})}},{key:"renderList",value:function(){return this.props.session.map((function(e){return m.a.createElement("option",{key:e._id,"data-key":e._id,"data-name":e.name},e.name)}))}},{key:"handleDelete",value:function(e,t,a,s){var l=this.state,n=l.subjects,r=l.sumMarks,u=l.sumTotal,o=n;o=o.filter((function(e){return e._id!==t})),this.setState({subjects:o,sumMarks:r-a,sumTotal:u-s})}},{key:"renderPercentage",value:function(){var e=this.state,t=e.sub1Marks,a=e.sub2Marks,s=e.sub3Marks,l=e.sub4Marks,n=e.sub5Marks,r=e.sub6Marks,u=e.sub7Marks,o=e.sub1Total,c=e.sub2Total,m=e.sub3Total,b=e.sub4Total,i=e.sub5Total,d=e.sub6Total,g=e.sub7Total,h=0,N=0;return h=Number(h)+Number(t)+Number(a)+Number(s)+Number(l)+Number(n)+Number(r)+Number(u),N=Number(N)+Number(o)+Number(c)+Number(m)+Number(b)+Number(i)+Number(d)+Number(g),Number((100*h/N).toFixed(2))}},{key:"renderSubjects",value:function(e,t,a,s,l){return m.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-between"},m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-4 col-12"},m.a.createElement("h6",null,e)),m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},m.a.createElement("input",{type:"number",className:"form-control",name:s,value:t,onChange:this.handleInput,placeholder:"Marks"})),m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},m.a.createElement("input",{type:"number",className:"form-control",name:l,value:a,onChange:this.handleInput,placeholder:"Total"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.student,s=t.session,l=t.isLoading,n=t.isError,r=t.err,u=this.state,o=u.sub1Marks,c=u.sub1Name,b=u.sub1Total,i=u.sub2Marks,g=u.sub2Total,h=u.sub2Name,N=u.sub3Marks,k=u.sub3Name,p=u.sub3Total,f=u.sub4Marks,T=u.sub4Name,x=u.sub4Total,y=u.sub5Marks,M=u.sub5Total,E=u.sub5Name,v=u.sub6Marks,S=u.sub6Name,j=u.sub6Total,A=u.sub7Marks,w=u.sub7Name,I=u.sub7Total,R=u.sSes;return l?m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,null)):m.a.createElement("form",{className:"col-12 d-flex flex-column align-items-center"},m.a.createElement("h6",{className:"student-heading col-lg-8 col-11",style:{marginTop:"30px",marginBottom:"30px",textAlign:"center",fontSize:"40px"}},"Add Result"),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between"},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Name"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Roll No"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Class (Sec)")),m.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-row justify-content-between"},m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.name),m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.roll),m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},"Class ",a.cls," (",a.section,")")),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between",style:{marginTop:"30px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Subject"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Marks"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Total")),this.renderSubjects(c,o,b,"sub1Marks","sub1Total"),this.renderSubjects(h,i,g,"sub2Marks","sub2Total"),this.renderSubjects(k,N,p,"sub3Marks","sub3Total"),this.renderSubjects(T,f,x,"sub4Marks","sub4Total"),this.renderSubjects(E,y,M,"sub5Marks","sub5Total"),this.renderSubjects(S,v,j,"sub6Marks","sub6Total"),this.renderSubjects(w,A,I,"sub7Marks","sub7Total"),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"Percentage: ",this.renderPercentage(),"%")),m.a.createElement("select",{className:"custom-select col-lg-8 col-11",style:{marginTop:"30px"},onChange:function(t){return e.handleSelectA(t)},defaultValue:R},s.length>0&&this.renderList(),s.length<=0&&m.a.createElement("option",{key:0},"No session found")),m.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-lg-between"},m.a.createElement("button",{type:"button",className:"btn btn-block btn-danger col-lg-5 col-12",onClick:function(t){return e.handleSubmit(t,!1)},style:{marginTop:"30px",marginBottom:"30px"}},"Fail"),m.a.createElement("button",{type:"button",className:"btn btn-block btn-primary col-lg-5 col-12",onClick:function(t){return e.handleSubmit(t,!0)},style:{marginTop:"30px",marginBottom:"30px"}},"Promote")),n&&m.a.createElement("h6",{style:{width:"100%",textAlign:"center",marginBottom:"30px",marginTop:"16px",color:"red",fontSize:"13px !important",fontWeight:"500"}},r))}}]),a}(c.Component);t.default=Object(i.b)((function(e){return{isError:e.ResultReg.isError,isLoading:e.ResultReg.isLoading,err:e.ResultReg.data}}),{registerResult:b.d})(g)}}]);