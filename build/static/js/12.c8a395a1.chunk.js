(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[12],{100:function(e,t,n){"use strict";n.r(t);var a=n(33),r=n(6),s=n(7),l=n(32),o=n(8),i=n(9),u=n(0),c=n.n(u),d=n(12),p=n(25),m={padding:"24px 24px 24px 24px",outline:"none !important",fontFamily:"''Montserrat', sans-serif",boxShadow:"none !important",fontSize:"16px",marginTop:"12px"},h={borderRadius:"20px",marginTop:"30px"},b={borderRadius:"20px",marginTop:"16px"},g=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={name:"",roll:0,sClass:0,sSec:"A"},a.handleInput=a.handleInput.bind(Object(l.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.student;this.setState({name:e.name,roll:e.roll,sClass:e.cls,section:e.section})}},{key:"handleInput",value:function(e){this.setState(Object(a.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.name,a=t.roll,r=t.sClass,s=t.sSec,l=this.props,o=l.updateStudent,i=l.student;n&&a&&null!==r&&s&&o({_id:i._id,name:n,roll:a,cls:r,section:s})}},{key:"renderLoader",value:function(){if(this.props.isLoading)return c.a.createElement("div",{className:"spinner-border",style:{width:"1rem",height:"1rem",marginLeft:"8px"},role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")," ")}},{key:"handleDel",value:function(e){e.preventDefault();var t=this.props;(0,t.delStudent)(t.student._id)}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSec:e.target.options[t].getAttribute("data-key")})}},{key:"handleSelect",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sClass:e.target.options[t].getAttribute("data-key")})}},{key:"renderClassSelect",value:function(){return[1,2,3,4,5].map((function(e){return c.a.createElement("option",{"data-key":e,key:e},"Class ",e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.roll,r=t.sClass,s=t.sSec,l=this.props,o=l.isError,i=l.err;return c.a.createElement("form",{className:"col-lg-5 col-11",onSubmit:function(t){return e.handleSubmit(t)}},c.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"12px"}},c.a.createElement("input",{type:"text",className:"form-control",style:m,name:"name",value:n,placeholder:"Student's name",onChange:this.handleInput,required:!0})),c.a.createElement("div",{className:"input-group mb-3",style:{marginTop:"12px"}},c.a.createElement("input",{type:"text",className:"form-control",name:"roll",value:a,style:m,onChange:this.handleInput,placeholder:"Student's roll number",pattern:"[0-9]",required:!0})),c.a.createElement("select",{className:"custom-select mb-3",style:{marginTop:"12px"},onChange:function(t){return e.handleSelect(t)},defaultValue:r},c.a.createElement("option",{"data-key":0},"KG"),this.renderClassSelect()),c.a.createElement("select",{className:"custom-select",style:{marginTop:"12px"},onChange:function(t){return e.handleSelectA(t)},defaultValue:s},c.a.createElement("option",{"data-key":"A"},"Section A"),c.a.createElement("option",{"data-key":"B"},"Section B")),c.a.createElement("button",{className:"btn btn-block btn-login",style:h,type:"submit"},"Update Student ",this.renderLoader()),c.a.createElement("button",{className:"btn btn-block btn-del btn-danger",style:b,type:"button",onClick:function(t){return e.handleDel(t)}},"Delete Student ",this.renderLoader()),o&&c.a.createElement("h6",{style:{width:"100%",textAlign:"center",marginTop:"16px",color:"red",fontSize:"13px !important",fontWeight:"500"}},i))}}]),n}(u.Component);t.default=Object(d.b)((function(e){return{isError:e.AddStudent.isError,err:e.AddStudent.data,isLoading:e.AddStudent.isLoading}}),{updateStudent:p.f,delStudent:p.a})(g)}}]);