(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[3],{89:function(e,t,a){"use strict";a.r(t);var l=a(30),s=a(4),n=a(5),c=a(29),r=a(6),o=a(7),u=a(0),i=a.n(u),m=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).state={sSes:"",sId:"",subjects:[],subName:"",subMarks:0,subTotal:0,sumMarks:0,sumTotal:0},l.handleInput=l.handleInput.bind(Object(c.a)(l)),l}return Object(n.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this.props.session;e.length>0&&this.setState({sSes:e[0].name,sId:e[0]._id})}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSes:e.target.options[t].getAttribute("data-name"),sId:e.target.options[t].getAttribute("data-key")})}},{key:"renderList",value:function(){return this.props.session.map((function(e){return i.a.createElement("option",{key:e._id,"data-key":e._id,"data-name":e.name},e.name)}))}},{key:"handleDelete",value:function(e,t,a,l){var s=this.state,n=s.subjects,c=s.sumMarks,r=s.sumTotal,o=n;o=o.filter((function(e){return e._id!==t})),this.setState({subjects:o,sumMarks:c-a,sumTotal:r-l})}},{key:"renderSubList",value:function(){var e=this;return this.state.subjects.map((function(t){return i.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-row justify-content-between",key:t.name},i.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},t.name),i.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},t.marks),i.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},t.total),i.a.createElement("span",{className:"fa fa-times",style:{color:"red",cursor:"pointer"},onClick:function(a){return e.handleDelete(a,t._id,t.marks,t.total)}}))}))}},{key:"handleSubject",value:function(e){var t=this.state,a=t.subName,l=t.subMarks,s=t.subTotal,n=t.subjects,c=t.sumTotal,r=t.sumMarks,o={name:a,marks:l,total:s};if(a&&l&&s&&s>0){var u=n;u.push(o),this.setState({sumMarks:r+l,sumTotal:c+s}),this.setState({subjects:u,subName:"",subMarks:0,subTotal:0})}}},{key:"renderPercentage",value:function(){var e=this.state,t=e.sumTotal;return(100*e.sumMarks/t).toFixed(2)}},{key:"render",value:function(){var e=this,t=this.props,a=t.student,l=t.session,s=this.state,n=s.subName,c=s.subMarks,r=s.subTotal,o=s.subjects;return i.a.createElement("form",{className:"col-12 d-flex flex-column align-items-center",onSubmit:function(t){return e.handleSubmit(t)}},i.a.createElement("h6",{className:"student-heading col-lg-8 col-11",style:{marginTop:"30px",marginBottom:"30px",textAlign:"center",fontSize:"40px"}},"Add Result"),i.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between"},i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Name"),i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Roll No"),i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Class (Sec)")),i.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-row justify-content-between"},i.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.name),i.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.roll),i.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},"Class ",a.cls," (",a.section,")")),i.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between",style:{marginTop:"30px"}},i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Subject"),i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Marks"),i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Total")),o.length>0&&this.renderSubList(),o.length>0&&i.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},i.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"Percentage: ",this.renderPercentage(),"%")),i.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-lg-row flex-column justify-content-between"},i.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-5 col-12",style:{marginTop:"12px"}},i.a.createElement("input",{type:"text",className:"form-control",name:"subName",value:n,onChange:this.handleInput,placeholder:"Subject"})),i.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-2 col-12",style:{marginTop:"12px"}},i.a.createElement("input",{type:"number",className:"form-control",name:"subMarks",value:c,onChange:this.handleInput,placeholder:"Marks"})),i.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-2 col-12",style:{marginTop:"12px"}},i.a.createElement("input",{type:"number",className:"form-control",name:"subTotal",value:r,onChange:this.handleInput,placeholder:"Total"})),i.a.createElement("button",{type:"button",className:"col-lg-2 col-12 btn btn-info mb-3 mt-3",onClick:function(t){return e.handleSubject(t)}},"Add ",i.a.createElement("span",{className:"fa fa-plus ml-1"}))),i.a.createElement("select",{className:"custom-select col-lg-8 col-11",style:{marginTop:"30px"},onChange:function(t){return e.handleSelectA(t)},defaultValue:"A"},l.length>0&&this.renderList(),l.length<=0&&i.a.createElement("option",{key:0},"No session found")),i.a.createElement("button",{type:"submit",className:"btn btn-block btn-primary col-lg-8 col-11",style:{marginTop:"30px",marginBottom:"30px"}},"Add Result"))}}]),a}(u.Component);t.default=m}}]);