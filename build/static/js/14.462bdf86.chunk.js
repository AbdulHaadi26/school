(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[14],{102:function(e,t,a){"use strict";a.r(t);var s=a(34),l=a(5),r=a(6),n=a(33),u=a(7),o=a(8),b=a(0),m=a.n(b),c=a(22),i=a(12),d=a(4),g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={sSes:"",sId:"",sub1Name:"Social Studies",sub1Marks:0,sub1Total:100,sub2Name:"English",sub2Marks:0,sub2Total:100,sub3Name:"Urdu",sub3Marks:0,sub3Total:100,sub4Name:"Mathematics",sub4Marks:0,sub4Total:100,sub5Name:"General Knowledge",sub5Marks:0,sub5Total:100,sub6Name:"General Science",sub6Marks:0,sub6Total:100,sub7Name:"Islamiat",sub7Marks:0,sub7Total:100},s.handleInput=s.handleInput.bind(Object(n.a)(s)),s}return Object(r.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"handleDel",value:function(e){e.preventDefault();var t=this.props;(0,t.delResult)(t.result._id)}},{key:"handleSubmit",value:function(e,t){e.preventDefault();var a=this.props,s=a.updateResult,l=a.result,r=this.state,n=r.sSes,u=r.sId,o=r.sub1Name,b=r.sub2Name,m=r.sub3Name,c=r.sub4Name,i=r.sub5Name,d=r.sub6Name,g=r.sub7Name,N=r.sub1Marks,h=r.sub2Marks,k=r.sub3Marks,p=r.sub4Marks,T=r.sub5Marks,f=r.sub6Marks,M=r.sub7Marks,x=[{name:o,marks:N,total:r.sub1Total},{name:b,marks:h,total:r.sub2Total},{name:m,marks:k,total:r.sub3Total},{name:c,marks:p,total:r.sub4Total},{name:i,marks:T,total:r.sub5Total},{name:d,marks:f,total:r.sub6Total},{name:g,marks:M,total:r.sub7Total}];s({_id:l._id,name:l.name,roll:l.roll,section:l.section,cls:l.cls,percentage:this.renderPercentage(),sessionId:u,sessionName:n,subjects:x,promoted:t})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.session,a=e.result;if(a.subjects&&a.subjects.length>0){var s=a.subjects;this.setState({sub1Name:s[0].name,sub1Marks:s[0].marks,sub1Total:s[0].total,sub2Name:s[1].name,sub2Marks:s[1].marks,sub2Total:s[1].total,sub3Name:s[2].name,sub3Marks:s[2].marks,sub3Total:s[2].total,sub4Name:s[3].name,sub4Marks:s[3].marks,sub4Total:s[3].total,sub5Name:s[4].name,sub5Marks:s[4].marks,sub5Total:s[4].total,sub6Name:s[5].name,sub6Marks:s[5].marks,sub6Total:s[5].total,sub7Name:s[6].name,sub7Marks:s[6].marks,sub7Total:s[6].total})}t.length>0&&this.setState({sSes:t[0].name,sId:t[0]._id})}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSes:e.target.options[t].getAttribute("data-name"),sId:e.target.options[t].getAttribute("data-key")})}},{key:"renderList",value:function(){return this.props.session.map((function(e){return m.a.createElement("option",{key:e._id,"data-key":e._id,"data-name":e.name},e.name)}))}},{key:"handleDelete",value:function(e,t,a,s){var l=this.state,r=l.subjects,n=l.sumMarks,u=l.sumTotal,o=r;o=o.filter((function(e){return e._id!==t})),this.setState({subjects:o,sumMarks:n-a,sumTotal:u-s})}},{key:"renderTotal",value:function(){var e=this.state,t=e.sub1Marks,a=e.sub2Marks,s=e.sub3Marks,l=e.sub4Marks,r=e.sub5Marks,n=e.sub6Marks,u=e.sub7Marks,o=e.sub1Total,b=e.sub2Total,m=e.sub3Total,c=e.sub4Total,i=e.sub5Total,d=e.sub6Total,g=e.sub7Total,N=0,h=0;return N=Number(N)+Number(t)+Number(a)+Number(s)+Number(l)+Number(r)+Number(n)+Number(u),h=Number(h)+Number(o)+Number(b)+Number(m)+Number(c)+Number(i)+Number(d)+Number(g),"".concat(N,"/").concat(h)}},{key:"renderPercentage",value:function(){var e=this.state,t=e.sub1Marks,a=e.sub2Marks,s=e.sub3Marks,l=e.sub4Marks,r=e.sub5Marks,n=e.sub6Marks,u=e.sub7Marks,o=e.sub1Total,b=e.sub2Total,m=e.sub3Total,c=e.sub4Total,i=e.sub5Total,d=e.sub6Total,g=e.sub7Total,N=0,h=0;return N=Number(N)+Number(t)+Number(a)+Number(s)+Number(l)+Number(r)+Number(n)+Number(u),h=Number(h)+Number(o)+Number(b)+Number(m)+Number(c)+Number(i)+Number(d)+Number(g),Number((100*N/h).toFixed(2))}},{key:"renderSubjects",value:function(e,t,a,s,l){return m.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-between"},m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-4 col-12"},m.a.createElement("h6",null,e)),m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},m.a.createElement("input",{type:"number",className:"form-control",name:s,value:t||0,onChange:this.handleInput,placeholder:"Marks"})),m.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},m.a.createElement("input",{type:"number",className:"form-control",name:l,value:a||0,onChange:this.handleInput,placeholder:"Total"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.result,s=t.session,l=t.isLoading,r=t.isError,n=t.err,u=this.state,o=u.sub1Marks,b=u.sub1Name,c=u.sub1Total,i=u.sub2Marks,g=u.sub2Total,N=u.sub2Name,h=u.sub3Marks,k=u.sub3Name,p=u.sub3Total,T=u.sub4Marks,f=u.sub4Name,M=u.sub4Total,x=u.sub5Marks,y=u.sub5Total,v=u.sub5Name,E=u.sub6Marks,S=u.sub6Name,j=u.sub6Total,A=u.sub7Marks,w=u.sub7Name,I=u.sub7Total,R=u.sSes;return l?m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,null)):m.a.createElement("form",{className:"col-12 d-flex flex-column align-items-center"},m.a.createElement("h6",{className:"student-heading col-lg-8 col-11",style:{marginTop:"30px",marginBottom:"30px",textAlign:"center",fontSize:"40px"}},"Update Result"),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between"},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Name"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Roll No"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Class (Sec)")),m.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-row justify-content-between"},m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.name),m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.roll),m.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},"Class ",a.cls," (",a.section,")")),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between",style:{marginTop:"30px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Subject"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Marks"),m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Total")),this.renderSubjects(b,o,c,"sub1Marks","sub1Total"),this.renderSubjects(N,i,g,"sub2Marks","sub2Total"),this.renderSubjects(k,h,p,"sub3Marks","sub3Total"),this.renderSubjects(f,T,M,"sub4Marks","sub4Total"),this.renderSubjects(v,x,y,"sub5Marks","sub5Total"),this.renderSubjects(S,E,j,"sub6Marks","sub6Total"),this.renderSubjects(w,A,I,"sub7Marks","sub7Total"),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"Total: ",this.renderTotal())),m.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},m.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"Percentage: ",this.renderPercentage(),"%")),m.a.createElement("select",{className:"custom-select col-lg-8 col-11",style:{marginTop:"30px"},onChange:function(t){return e.handleSelectA(t)},defaultValue:R},s.length>0&&this.renderList(),s.length<=0&&m.a.createElement("option",{key:0},"No session found")),m.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-lg-between"},m.a.createElement("button",{type:"button",className:"btn btn-block btn-danger col-lg-3 col-12",onClick:function(t){return e.handleDel(t)},style:{marginTop:"30px",marginBottom:"30px"}},"Delete"),m.a.createElement("button",{type:"button",className:"btn btn-block btn-danger col-lg-3 col-12",onClick:function(t){return e.handleSubmit(t,!1)},style:{marginTop:"30px",marginBottom:"30px"}},"Fail"),m.a.createElement("button",{type:"button",className:"btn btn-block btn-primary col-lg-3 col-12",onClick:function(t){return e.handleSubmit(t,!0)},style:{marginTop:"30px",marginBottom:"30px"}},"Promote")),r&&m.a.createElement("h6",{style:{width:"100%",textAlign:"center",marginBottom:"30px",marginTop:"16px",color:"red",fontSize:"13px !important",fontWeight:"500"}},n))}}]),a}(b.Component);t.default=Object(i.b)((function(e){return{isError:e.ResultReg.isError,isLoading:e.ResultReg.isLoading,err:e.ResultReg.data}}),{updateResult:c.h,delResult:c.b})(g)}}]);