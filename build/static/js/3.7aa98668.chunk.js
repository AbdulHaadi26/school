(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[3],{97:function(e,t,a){"use strict";a.r(t);var s=a(33),l=a(6),r=a(7),n=a(32),u=a(8),o=a(9),m=a(0),b=a.n(m),c=a(34),i=a(12),d=a(5),N=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={sSes:"",sId:"",sub1Name:"Social Studies",sub1Marks:0,sub1Total:100,sub2Name:"English",sub2Marks:0,sub2Total:100,sub3Name:"Urdu",sub3Marks:0,sub3Total:100,sub4Name:"Mathematics",sub4Marks:0,sub4Total:100,sub5Name:"General Knowledge",sub5Marks:0,sub5Total:100,sub6Name:"General Science",sub6Marks:0,sub6Total:100,sub7Name:"Islamiat",sub7Marks:0,sub7Total:100,sumMarks:0,sumTotal:0},s.handleInput=s.handleInput.bind(Object(n.a)(s)),s}return Object(r.a)(a,[{key:"handleInput",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e,t){e.preventDefault();var a=this.props,s=a.student,l=a.registerResult,r=this.state,n=r.sSes,u=r.sId,o=r.sub1Name,m=r.sub2Name,b=r.sub3Name,c=r.sub4Name,i=r.sub5Name,d=r.sub6Name,N=r.sub7Name,g=r.sub1Marks,h=r.sub2Marks,k=r.sub3Marks,p=r.sub4Marks,T=r.sub5Marks,f=r.sub6Marks,M=r.sub7Marks,x=[{name:o,marks:g,total:r.sub1Total},{name:m,marks:h,total:r.sub2Total},{name:b,marks:k,total:r.sub3Total},{name:c,marks:p,total:r.sub4Total},{name:i,marks:T,total:r.sub5Total},{name:d,marks:f,total:r.sub6Total},{name:N,marks:M,total:r.sub7Total}];l({name:s.name,roll:s.roll,section:s.section,cls:s.cls,percentage:this.renderPercentage(),sessionId:u,sessionName:n,subjects:x,promoted:t})}},{key:"componentDidMount",value:function(){var e=this.props.session;e.length>0&&this.setState({sSes:e[0].name,sId:e[0]._id})}},{key:"handleSelectA",value:function(e){var t=e.target.options.selectedIndex;e.target.options[t].getAttribute("data-key")&&this.setState({sSes:e.target.options[t].getAttribute("data-name"),sId:e.target.options[t].getAttribute("data-key")})}},{key:"renderList",value:function(){return this.props.session.map((function(e){return b.a.createElement("option",{key:e._id,"data-key":e._id,"data-name":e.name},e.name)}))}},{key:"handleDelete",value:function(e,t,a,s){var l=this.state,r=l.subjects,n=l.sumMarks,u=l.sumTotal,o=r;o=o.filter((function(e){return e._id!==t})),this.setState({subjects:o,sumMarks:n-a,sumTotal:u-s})}},{key:"renderTotal",value:function(){var e=this.state,t=e.sub1Marks,a=e.sub2Marks,s=e.sub3Marks,l=e.sub4Marks,r=e.sub5Marks,n=e.sub6Marks,u=e.sub7Marks,o=e.sub1Total,m=e.sub2Total,b=e.sub3Total,c=e.sub4Total,i=e.sub5Total,d=e.sub6Total,N=e.sub7Total;console.log(o);var g=0,h=0;return g=Number(g)+Number(t)+Number(a)+Number(s)+Number(l)+Number(r)+Number(n)+Number(u),h=Number(h)+Number(o)+Number(m)+Number(b)+Number(c)+Number(i)+Number(d)+Number(N),"".concat(g,"/").concat(h)}},{key:"renderPercentage",value:function(){var e=this.state,t=e.sub1Marks,a=e.sub2Marks,s=e.sub3Marks,l=e.sub4Marks,r=e.sub5Marks,n=e.sub6Marks,u=e.sub7Marks,o=e.sub1Total,m=e.sub2Total,b=e.sub3Total,c=e.sub4Total,i=e.sub5Total,d=e.sub6Total,N=e.sub7Total,g=0,h=0;return g=Number(g)+Number(t)+Number(a)+Number(s)+Number(l)+Number(r)+Number(n)+Number(u),h=Number(h)+Number(o)+Number(m)+Number(b)+Number(c)+Number(i)+Number(d)+Number(N),Number((100*g/h).toFixed(2))}},{key:"renderSubjects",value:function(e,t,a,s,l){return b.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-between"},b.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-4 col-12"},b.a.createElement("h6",null,e)),b.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},b.a.createElement("input",{type:"number",className:"form-control",name:s,value:t,onChange:this.handleInput,placeholder:"Marks"})),b.a.createElement("div",{className:"input-group mt-3 mb-3 col-lg-3 col-12"},b.a.createElement("input",{type:"number",className:"form-control",name:l,value:a,onChange:this.handleInput,placeholder:"Total"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.student,s=t.session,l=t.isLoading,r=t.isError,n=t.err,u=this.state,o=u.sub1Marks,m=u.sub1Name,c=u.sub1Total,i=u.sub2Marks,N=u.sub2Total,g=u.sub2Name,h=u.sub3Marks,k=u.sub3Name,p=u.sub3Total,T=u.sub4Marks,f=u.sub4Name,M=u.sub4Total,x=u.sub5Marks,y=u.sub5Total,v=u.sub5Name,E=u.sub6Marks,S=u.sub6Name,j=u.sub6Total,A=u.sub7Marks,w=u.sub7Name,I=u.sub7Total,R=u.sSes;return l?b.a.createElement(b.a.Fragment,null,b.a.createElement(d.a,null)):b.a.createElement("form",{className:"col-12 d-flex flex-column align-items-center"},b.a.createElement("h6",{className:"student-heading col-lg-8 col-11",style:{marginTop:"30px",marginBottom:"30px",textAlign:"center",fontSize:"40px"}},"Add Result"),b.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between"},b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Name"),b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Roll No"),b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Class (Sec)")),b.a.createElement("div",{className:"col-lg-8 col-11 res-sub-div d-flex flex-row justify-content-between"},b.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.name),b.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},a.roll),b.a.createElement("h6",{className:"col-lg-3 res-sub",style:{textAlign:"center"}},"Class ",a.cls," (",a.section,")")),b.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-between",style:{marginTop:"30px"}},b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Subject"),b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Marks"),b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"center"}},"Total")),this.renderSubjects(m,Number(o),Number(c),"sub1Marks","sub1Total"),this.renderSubjects(g,Number(i),Number(N),"sub2Marks","sub2Total"),this.renderSubjects(k,Number(h),Number(p),"sub3Marks","sub3Total"),this.renderSubjects(f,Number(T),Number(M),"sub4Marks","sub4Total"),this.renderSubjects(v,Number(x),Number(y),"sub5Marks","sub5Total"),this.renderSubjects(S,Number(E),Number(j),"sub6Marks","sub6Total"),this.renderSubjects(w,Number(A),Number(I),"sub7Marks","sub7Total"),b.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"total: ",this.renderTotal())),b.a.createElement("div",{className:"col-lg-8 col-11 res-head-div d-flex flex-row justify-content-end",style:{marginTop:"16px"}},b.a.createElement("h6",{className:"col-lg-3 res-head",style:{textAlign:"right"}},"Percentage: ",this.renderPercentage(),"%")),b.a.createElement("select",{className:"custom-select col-lg-8 col-11",style:{marginTop:"30px"},onChange:function(t){return e.handleSelectA(t)},defaultValue:R},s.length>0&&this.renderList(),s.length<=0&&b.a.createElement("option",{key:0},"No session found")),b.a.createElement("div",{className:"col-lg-8 col-11 d-flex flex-lg-row flex-column justify-content-lg-between"},b.a.createElement("button",{type:"button",className:"btn btn-block btn-danger col-lg-5 col-12",onClick:function(t){return e.handleSubmit(t,!1)},style:{marginTop:"30px",marginBottom:"30px"}},"Fail"),b.a.createElement("button",{type:"button",className:"btn btn-block btn-primary col-lg-5 col-12",onClick:function(t){return e.handleSubmit(t,!0)},style:{marginTop:"30px",marginBottom:"30px"}},"Promote")),r&&b.a.createElement("h6",{style:{width:"100%",textAlign:"center",marginBottom:"30px",marginTop:"16px",color:"red",fontSize:"13px !important",fontWeight:"500"}},n))}}]),a}(m.Component);t.default=Object(i.b)((function(e){return{isError:e.ResultReg.isError,isLoading:e.ResultReg.isLoading,err:e.ResultReg.data}}),{registerResult:c.d})(N)}}]);