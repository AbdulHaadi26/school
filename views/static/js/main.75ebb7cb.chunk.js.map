{"version":3,"sources":["redux/constants/index.js","utils/api.js","utils/history.js","redux/actions/userActions.js","components/loginForm/index.js","pages/loginPage/index.js","pages/students/index.js","App.js","routes/index.js","redux/reducers/userReducer.js","redux/reducers/index.js","index.js"],"names":["userConstants","axios","create","baseURL","browserHistory","createBrowserHistory","LErr","LReq","LSuc","Current_User_Suc","Current_User_Err","setCurrentUser","token","dispatch","localStorage","setItem","getCurrentUser","getItem","type","inputStyle","padding","outline","fontFamily","boxShadow","fontSize","marginTop","btnStyle","borderRadius","index","props","state","email","password","handleInput","bind","event","this","setState","target","name","value","loginUser","preventDefault","err","isError","className","onSubmit","e","handleSubmit","style","placeholder","onChange","required","width","textAlign","color","fontWeight","Component","connect","Login","data","a","api","post","response","error","payload","navStyle","display","flexDirection","alignItems","marginLeft","marginRight","logoName","FormSetting","justifyContent","logOut","onClick","removeItem","history","push","App","auth","Fragment","exact","path","component","Student","render","to","LoginPage","Auth","combineReducers","isLoading","isSuccess","action","reduxStore","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","store","BrowserHistory","document","getElementById"],"mappings":"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","file":"static/js/main.75ebb7cb.chunk.js","sourcesContent":["export const userConstants = {\r\n    LReq: 'LOGIN_REQ', LSuc: 'LOGIN_SUC', LErr: 'LOGIN_ERR',\r\n    Current_User_Suc: 'CUR_USER_SUC', Current_User_Err: 'CUR_USER_ERR'\r\n};","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL:'https://schoolk.herokuapp.com/api'\r\n});","import { createBrowserHistory } from 'history';\r\n\r\nconst browserHistory = createBrowserHistory();\r\n\r\nexport const getDomain = () => {\r\n  const domainParts = window.location.host.split('.');\r\n  const domain = domainParts.slice(domainParts.length - 2).join('.');\r\n\r\n  return domain;\r\n};\r\n\r\nexport default browserHistory;\r\n","import { userConstants } from '../constants';\r\nimport api from '../../utils/api';\r\nimport history from '../../utils/history';\r\nconst { LErr, LReq, LSuc, Current_User_Suc, Current_User_Err } = userConstants;\r\n\r\nexport const loginUser = (data) => async dispatch => {\r\n    dispatch({ type: LReq});\r\n    try {\r\n        var response = await api.post('/account/auth', data);\r\n        if (response.data && !response.data.error && response.data.token) {\r\n            dispatch(setCurrentUser(response.data.token));\r\n            dispatch({ type: LSuc });\r\n        } else { dispatch({ type: LErr,payload:response.data.error }); }\r\n    } catch { dispatch({ type: LErr,payload:'Email or password is incorrect'}); };\r\n};\r\n\r\nconst setCurrentUser = (token) => dispatch => {\r\n    localStorage.setItem(\"token\", token)\r\n    dispatch(getCurrentUser());\r\n};\r\n\r\nexport const getCurrentUser = () => dispatch => {\r\n    if (localStorage.getItem('token') === null) {\r\n        dispatch({ type: Current_User_Err });\r\n    } else {\r\n        dispatch({ type: Current_User_Suc });\r\n    }\r\n};\r\n\r\nexport const logOut = () => dispatch => {\r\n    localStorage.removeItem('token');\r\n    dispatch({ type: Current_User_Err });\r\n    history.push('/');\r\n};\r\n","import React, { Component } from 'react';\r\nimport { loginUser } from '../../redux/actions/userActions';\r\nimport { connect } from 'react-redux';\r\n\r\nconst inputStyle = {\r\n    padding: '24px 24px 24px 24px', outline: 'none !important', fontFamily: `''Montserrat', sans-serif`,\r\n    boxShadow: 'none !important', fontSize: '16px', marginTop: '12px'\r\n};\r\n\r\nconst btnStyle = { borderRadius: '20px', marginTop: '16px' };\r\n\r\nclass index extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n    }\r\n    state = { email: '', password: '' };\r\n\r\n    handleInput(event) { this.setState({ [event.target.name]: event.target.value }); }\r\n\r\n    handleSubmit(event) {\r\n        const { email, password } = this.state;\r\n        const { loginUser } = this.props;\r\n        event.preventDefault();\r\n        if (email && password) {\r\n            var data = { email: email, password: password };\r\n            loginUser(data);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { email, password } = this.state;\r\n        const { err, isError } = this.props;\r\n        return (\r\n            <form className=\"col-lg-5 col-11\" onSubmit={(e) => this.handleSubmit(e)}>\r\n                <div className=\"input-group mb-3\" style={{ marginTop: '12px' }}>\r\n                    <input type=\"text\" className=\"form-control\" style={inputStyle} name='email' value={email}\r\n                        placeholder=\"Your work email\" onChange={this.handleInput} required />\r\n                </div>\r\n                <div className=\"input-group mb-3\" style={{ marginTop: '12px' }}>\r\n                    <input type=\"password\" className=\"form-control\" name='password' value={password} style={inputStyle}\r\n                        onChange={this.handleInput} placeholder=\"Your password\" required />\r\n                </div>\r\n                <button className=\"btn btn-block btn-login\" style={btnStyle} type='submit'>Login</button>\r\n                {isError && <h6 style={{ width: '100%', textAlign: 'center', marginTop: '16px', color: 'red', fontSize: '13px !important',fontWeight:'500' }}>\r\n                    {err}\r\n                </h6>}\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isError: state.Login.isError,\r\n        err: state.Login.data\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { loginUser })(index);","import React, { Component } from 'react';\r\nimport  LoginCard from '../../components/loginForm';\r\nimport './style.css';\r\n\r\nconst navStyle = { display: 'flex', flexDirection: 'column', alignItems: 'center', marginLeft: 'auto', marginRight: 'auto' };\r\nconst logoName = { fontSize: '38px', fontWeight: 'bold', color: '#40739e', fontFamily: `'Montserrat', sans-serif` };\r\nconst FormSetting = { display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'flex-start' }\r\n\r\nclass index extends Component {\r\n    state = {};\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid justify-content-lg-center justify-content-start p-0 log-form\">\r\n                {LoginNav()}\r\n                {FormSpace()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction LoginNav() {\r\n    return <div className=\"col-11 p-0\" style={navStyle}>\r\n        <h6 style={logoName}>School System</h6>\r\n    </div>\r\n}\r\n\r\nfunction FormSpace() {\r\n    return <div className=\"col-12\" style={FormSetting}>\r\n        <LoginCard />\r\n    </div>\r\n}\r\n\r\nexport default index;","import React, { Component } from 'react';\r\nimport {logOut} from '../..//redux/actions/userActions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass index extends Component{\r\n    state={};\r\n\r\n    render(){\r\n        const {logOut} = this.props;\r\n        return(\r\n            <div>\r\n                <button onClick={(e) => logOut()}>Logout</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null,{logOut})(index);","import React, { Component } from 'react';\nimport { publicRoutes, privateRoutes } from './routes';\nimport { connect } from 'react-redux';\n\nclass App extends Component {\n  state = {};\n  render() {\n    const { auth } = this.props;\n    if (auth)\n      return <React.Fragment>\n        {privateRoutes()}\n      </React.Fragment>\n\n    return <React.Fragment>\n      {publicRoutes()}\n    </React.Fragment>\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.Auth.auth\n  }\n}\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport LoginPage from '../pages/loginPage';\r\nimport Student from '../pages/students';\r\n\r\nexport function publicRoutes() {\r\n    return <Switch>\r\n        <Route exact path='/login' component={LoginPage}/>\r\n        <Route render={() => <Redirect to='/login' />} />\r\n    </Switch>\r\n}\r\n\r\nexport function privateRoutes() {\r\n      return <Switch>\r\n        <Route exact path='/students' component={Student}/>\r\n        <Route render={() => <Redirect to='/students' />} />\r\n    </Switch>\r\n}","import { userConstants } from '../constants';\r\nconst { LErr, LReq, LSuc, Current_User_Err, Current_User_Suc } = userConstants;\r\nexport const loginReducer = (state = { isLoading: false, isSuccess: false, isError: false }, action) => {\r\n    switch (action.type) {\r\n        case LReq: return { ...state, isLoading: true, isError: false, isSuccess: false };\r\n        case LSuc: return { ...state, isSuccess: true, isLoading: false, isError: false, data: action.payload };\r\n        case LErr: return { ...state, isError: true, isLoading: false, isSuccess: false, data: action.payload };\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport const CurrentUser = (state = { auth: false }, action) => {\r\n    switch (action.type) {\r\n        case Current_User_Err: return { ...state, auth: false }\r\n        case Current_User_Suc: return { ...state, auth: true }\r\n        default: return state\r\n    }\r\n};","import { combineReducers } from 'redux';\r\nimport { loginReducer, CurrentUser } from './userReducer';\r\n\r\nexport default combineReducers({\r\n    Login: loginReducer,\r\n    Auth: CurrentUser\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport {Router} from 'react-router-dom';\nimport BrowserHistory from './utils/history';\nimport { Provider } from \"react-redux\";\nimport {createStore, applyMiddleware} from 'redux';\nimport rootReducer from './redux/reducers';\nimport thunk from 'redux-thunk'\nconst reduxStore = createStore(rootReducer,applyMiddleware(thunk));\nReactDOM.render(\n    <Provider store={reduxStore}>\n    <Router history={BrowserHistory}>\n        <App />\n    </Router></Provider>\n    , document.getElementById('root'));\n"],"sourceRoot":""}